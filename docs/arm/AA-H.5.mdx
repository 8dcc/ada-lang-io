---
sidebar_position:  187
---

# H.5  Pragma Detect_Blocking

:::warning
We're still working on the Reference manual output.  Internal links are broken,
as are a bunch of other things.
See the [tracking issue](https://github.com/ada-lang-io/ada-lang-io/issues/20)
:::

import CodeBlock from "@theme/CodeBlock";

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} {"{"}<em>{"AI12-0267-1"}</em>{"}"} The following <code><a href="./AA-2.8#S0019">pragma</a></code> requires an implementation to detect potentially blocking operations during the execution of a protected operation or a parallel construct. </p>

#### Syntax

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} The form of a <code><a href="./AA-2.8#S0019">pragma</a></code> Detect_Blocking is as follows: </p>
<p>  <strong>pragma</strong> Detect_Blocking; </p>

#### Post-Compilation Rules

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} A <code><a href="./AA-2.8#S0019">pragma</a></code> Detect_Blocking is a configuration pragma. </p>

#### Dynamic Semantics

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} {"{"}<em>{"AI12-0247-1"}</em>{"}"} {"{"}<em>{"AI12-0267-1"}</em>{"}"} An implementation is required to detect a potentially blocking operation that occurs during the execution of a protected operation or a parallel construct defined within a compilation unit to which the pragma applies, and to raise Program_Error (see 9.5). </p>

#### Implementation Permissions

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} {"{"}<em>{"AI12-0267-1"}</em>{"}"} An implementation is allowed to reject a <code><a href="./AA-10.1#S0286">compilation_unit</a></code> to which a pragma Detect_Blocking applies if a potentially blocking operation is present directly within an <code><a href="./AA-9.5#S0260">entry_body</a></code>, the body of a protected subprogram, or a parallel construct occurring within the compilation unit. </p>
<p>NOTE 1   {"{"}<em>{"AI95-00305-01"}</em>{"}"} {"{"}<em>{"AI12-0442-1"}</em>{"}"} An operation that causes a task to be blocked within a foreign language domain is not defined to be potentially blocking, and is unlikely to be detected. </p>

#### Extensions to Ada 95

<p>{"{"}<em>{"AI95-00305-01"}</em>{"}"} Pragma Detect_Blocking is new. </p>

#### Extensions to Ada 2012

<p>{"{"}<em>{"AI12-0267-1"}</em>{"}"} Pragma Detect_Blocking now applies to parallel constructs as well as protected actions. </p>
